<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë‚¨í•´Â·ì—¬ìˆ˜ 2ë°•3ì¼ ë§›ì§‘ ê°€ì´ë“œ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700;900&display=swap" rel="stylesheet">
<style>
  @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.min.css');

  :root {
    --ocean-deep: #1b3a4b;
    --ocean-mid: #2d6a8a;
    --ocean-light: #4a9ab5;
    --ocean-foam: #a8dce6;
    --ocean-sky: #d4eef4;
    --sand: #f5efe3;
    --sand-warm: #ede4d3;
    --sunset-warm: #c47a4e;
    --sunset-gold: #d49540;
    --sunset-rose: #c86b5e;
    --hanok-brown: #6b4c3b;
    --pine-green: #3d6b5e;
    --jade: #5a9e8f;
    --text: #1a2830;
    --text-mid: rgba(26,40,48,0.82);
    --text-dim: rgba(26,40,48,0.58);
    --glass: rgba(255,255,255,0.65);
    --glass-border: rgba(255,255,255,0.50);
    --glass-hover: rgba(255,255,255,0.80);
    --radius: 20px;
    --radius-sm: 12px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scroll-behavior: smooth; }

  body {
    font-family: 'Pretendard', 'Noto Sans KR', -apple-system, sans-serif;
    color: var(--text);
    line-height: 1.85;
    font-size: 18px;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
    background: var(--sand);
  }

  /* === OCEAN GRADIENT BACKGROUND === */
  .ocean-bg {
    position: fixed; inset: 0; z-index: 0;
    background: 
      linear-gradient(180deg, 
        var(--ocean-sky) 0%, 
        #e2eff5 8%,
        var(--sand) 25%,
        var(--sand) 100%
      );
  }

  /* Animated wave layers */
  .waves {
    position: fixed; bottom: 0; left: 0; width: 100%; height: 160px;
    z-index: 0; opacity: 0.12; pointer-events: none;
  }
  .wave {
    position: absolute; bottom: 0; left: 0; width: 200%; height: 100%;
    background-repeat: repeat-x;
    background-size: 50% 100%;
  }
  .wave-1 {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath d='M0,60 C200,120 400,0 600,60 C800,120 1000,0 1200,60 L1200,120 L0,120Z' fill='%232d6a8a'/%3E%3C/svg%3E");
    animation: waveDrift 12s linear infinite;
    opacity: 0.6;
  }
  .wave-2 {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath d='M0,80 C150,20 350,100 600,50 C850,0 1050,90 1200,40 L1200,120 L0,120Z' fill='%234a9ab5'/%3E%3C/svg%3E");
    animation: waveDrift 16s linear infinite reverse;
    opacity: 0.4;
  }
  .wave-3 {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath d='M0,40 C300,100 500,20 700,70 C900,120 1100,30 1200,80 L1200,120 L0,120Z' fill='%231b3a4b'/%3E%3C/svg%3E");
    animation: waveDrift 20s linear infinite;
    opacity: 0.3;
  }
  @keyframes waveDrift {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  /* Ambient orbs */
  .ambient {
    position: fixed; inset: 0; z-index: 0;
    pointer-events: none; overflow: hidden;
  }
  .ambient .orb {
    position: absolute; border-radius: 50%;
    filter: blur(120px); opacity: 0.3;
    animation: orbFloat 25s ease-in-out infinite alternate;
  }
  .ambient .orb:nth-child(1) {
    width: 500px; height: 500px;
    background: radial-gradient(circle, rgba(74,154,181,0.2), transparent 70%);
    top: -5%; right: -10%;
  }
  .ambient .orb:nth-child(2) {
    width: 400px; height: 400px;
    background: radial-gradient(circle, rgba(212,132,90,0.15), transparent 70%);
    top: 30%; left: -10%; animation-delay: -8s;
  }
  .ambient .orb:nth-child(3) {
    width: 350px; height: 350px;
    background: radial-gradient(circle, rgba(90,158,143,0.12), transparent 70%);
    bottom: 10%; right: 5%; animation-delay: -15s;
  }
  @keyframes orbFloat {
    0% { transform: translate(0, 0); }
    50% { transform: translate(30px, -20px); }
    100% { transform: translate(-15px, 25px); }
  }

  /* Grain */
  .grain {
    position: fixed; inset: 0; z-index: 1;
    pointer-events: none; opacity: 0.015;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 200px;
  }

  .wrapper { position: relative; z-index: 2; max-width: 820px; margin: 0 auto; padding: 0 28px; }

  /* === HERO === */
  .hero {
    min-height: 100vh; min-height: 100svh;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    text-align: center; padding: 60px 24px; position: relative;
    z-index: 2;
  }

  .hero-eyebrow {
    font-size: 15px; letter-spacing: 5px; text-transform: uppercase;
    color: var(--ocean-mid); font-weight: 600; margin-bottom: 24px;
    opacity: 0; animation: fadeIn 1s 0.3s ease forwards;
  }

  .hero h1 {
    font-family: 'Noto Serif KR', serif; font-weight: 900;
    font-size: clamp(42px, 8vw, 72px); line-height: 1.2; letter-spacing: -2px;
    background: linear-gradient(135deg, var(--ocean-deep) 0%, var(--ocean-mid) 40%, var(--sunset-warm) 80%, var(--sunset-gold) 100%);
    background-size: 300% auto;
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    animation: shimmer 8s ease-in-out infinite alternate, fadeIn 1s 0.5s ease forwards;
    opacity: 0;
  }
  @keyframes shimmer { 0% { background-position: 0% center; } 100% { background-position: 100% center; } }
  @keyframes fadeIn { to { opacity: 1; } }

  .hero-sub {
    font-size: 20px; color: var(--text-dim); font-weight: 400;
    margin-top: 20px; opacity: 0; animation: fadeIn 1s 0.8s ease forwards;
  }

  .hero-wave-deco {
    margin-top: 28px; opacity: 0; animation: fadeIn 1s 0.9s ease forwards;
  }
  .hero-wave-deco svg { width: 120px; height: 20px; }

  .route-bar {
    display: inline-flex; align-items: center;
    margin-top: 28px;
    background: rgba(255,255,255,0.6);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.5);
    border-radius: 100px;
    padding: 12px 8px;
    box-shadow: 0 4px 20px rgba(27,58,75,0.06);
    opacity: 0; animation: fadeIn 1s 1s ease forwards;
    white-space: nowrap;
  }
  .route-stop {
    display: inline-flex; align-items: center; gap: 5px;
    padding: 0 14px; font-size: 17px; font-weight: 600; color: var(--ocean-deep);
  }
  .route-stop .emoji { font-size: 17px; }
  .route-arrow { color: var(--ocean-light); font-size: 14px; }

  .scroll-hint {
    position: absolute; bottom: 40px;
    display: flex; flex-direction: column; align-items: center; gap: 8px;
    color: var(--ocean-mid); font-size: 12px; letter-spacing: 3px;
    animation: fadeIn 1s 1.5s ease forwards, bounce 2s 2.5s ease-in-out infinite;
    opacity: 0;
  }
  .scroll-line {
    width: 1px; height: 40px;
    background: linear-gradient(to bottom, var(--ocean-mid), transparent);
    animation: scrollPulse 2s ease-in-out infinite;
  }
  @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(6px); } }
  @keyframes scrollPulse { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.7; } }

  /* === DAY SECTION === */
  .day-section { padding: 80px 0 40px; }

  .day-header { display: flex; align-items: center; gap: 20px; margin-bottom: 44px; }
  .day-chip {
    display: flex; align-items: center; justify-content: center;
    width: 62px; height: 62px; border-radius: 16px;
    font-family: 'Noto Serif KR', serif; font-weight: 900; font-size: 20px;
    flex-shrink: 0; position: relative; overflow: hidden;
    box-shadow: 0 4px 16px rgba(0,0,0,0.06);
  }
  .day-chip::before {
    content: ''; position: absolute; inset: 0; border-radius: 16px; padding: 1px;
    background: linear-gradient(135deg, rgba(255,255,255,0.7), rgba(255,255,255,0.15));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
  }
  .day-1 .day-chip { background: linear-gradient(135deg, #fce2c8, #f8cda8); color: var(--sunset-warm); }
  .day-2 .day-chip { background: linear-gradient(135deg, #c8e4f0, #a8d4e8); color: var(--ocean-mid); }
  .day-3 .day-chip { background: linear-gradient(135deg, #c8e0d4, #a8d0c0); color: var(--pine-green); }

  .day-meta { display: flex; flex-direction: column; gap: 3px; }
  .day-label { font-size: 14px; letter-spacing: 3.5px; text-transform: uppercase; color: var(--text-dim); font-weight: 600; }
  .day-title { font-family: 'Noto Serif KR', serif; font-size: 34px; font-weight: 700; color: var(--ocean-deep); }
  .day-route { font-size: 17px; color: var(--text-dim); font-weight: 400; }

  /* === CARD === */
  .card {
    position: relative;
    background: var(--glass);
    backdrop-filter: blur(40px) saturate(120%); -webkit-backdrop-filter: blur(40px) saturate(120%);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    padding: 36px; margin-bottom: 28px;
    box-shadow: 0 2px 24px rgba(27,58,75,0.05);
    transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    overflow: hidden;
    opacity: 0; transform: translateY(40px);
  }
  .card.visible { opacity: 1; transform: translateY(0); }
  .card:hover {
    background: var(--glass-hover);
    transform: translateY(-4px) scale(1.005);
    box-shadow: 0 12px 48px rgba(27,58,75,0.10);
  }

  .card::before {
    content: ''; position: absolute; top: 0; left: 0;
    width: 100%; height: 3px; opacity: 0.85; transition: opacity 0.3s;
  }
  .card:hover::before { opacity: 1; }
  .card.lunch::before { background: linear-gradient(90deg, var(--sunset-warm), var(--sunset-gold)); }
  .card.dinner::before { background: linear-gradient(90deg, var(--ocean-mid), var(--jade)); }
  .card.breakfast::before { background: linear-gradient(90deg, var(--pine-green), var(--jade)); }

  .card::after {
    content: ''; position: absolute; top: -20px; left: -20px;
    width: 180px; height: 180px; border-radius: 50%;
    filter: blur(70px); opacity: 0.06; pointer-events: none; transition: opacity 0.4s;
  }
  .card:hover::after { opacity: 0.12; }
  .card.lunch::after { background: var(--sunset-warm); }
  .card.dinner::after { background: var(--ocean-mid); }
  .card.breakfast::after { background: var(--pine-green); }

  .card-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 20px; position: relative; z-index: 1;
  }
  .meal-tag {
    display: inline-flex; align-items: center; gap: 7px;
    font-size: 15px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase;
    padding: 8px 18px; border-radius: 100px;
  }
  .lunch .meal-tag { background: rgba(196,122,78,0.12); color: var(--sunset-warm); }
  .dinner .meal-tag { background: rgba(45,106,138,0.10); color: var(--ocean-mid); }
  .breakfast .meal-tag { background: rgba(61,107,94,0.10); color: var(--pine-green); }

  .time-text { font-size: 17px; color: var(--text-dim); font-weight: 500; font-variant-numeric: tabular-nums; }

  .card-body { position: relative; z-index: 1; }
  .restaurant-name {
    font-family: 'Noto Serif KR', serif;
    font-size: clamp(28px, 5vw, 36px); font-weight: 700;
    letter-spacing: -0.5px; margin-bottom: 10px; line-height: 1.3;
    color: var(--ocean-deep);
  }
  .restaurant-desc {
    font-size: 18px; font-weight: 350; color: var(--text-mid);
    line-height: 1.85; margin-bottom: 28px; max-width: 580px;
  }

  .info-chips { display: flex; flex-direction: column; gap: 14px; padding-top: 24px; border-top: 1px solid rgba(27,58,75,0.08); }
  .info-row { display: flex; align-items: flex-start; gap: 12px; }
  .info-icon {
    width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;
    background: rgba(27,58,75,0.04); border-radius: 10px; font-size: 18px; flex-shrink: 0;
  }
  .info-content { display: flex; flex-direction: column; gap: 2px; padding-top: 4px; }
  .info-label { font-size: 13px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-dim); font-weight: 600; }
  .info-value { font-size: 17px; color: var(--text-mid); font-weight: 450; word-break: keep-all; }

  /* Naver Map Link Button */
  .map-link-btn {
    display: inline-flex; align-items: center; gap: 8px;
    background: #03c75a; color: #fff;
    padding: 11px 22px; border-radius: 100px;
    font-size: 15px; font-weight: 700; letter-spacing: 0.3px;
    text-decoration: none;
    transition: all 0.25s cubic-bezier(0.23, 1, 0.32, 1);
    box-shadow: 0 2px 14px rgba(3,199,90,0.28);
    align-self: flex-start;
  }
  .map-link-btn:hover {
    background: #00b248; transform: translateY(-2px);
    box-shadow: 0 6px 22px rgba(3,199,90,0.42);
  }
  .map-link-btn:active { transform: translateY(0); }

  /* Photo Stack */
  .photo-stack {
    position: relative;
    aspect-ratio: 4/3;
    margin-bottom: 32px;
    cursor: zoom-in;
  }
  .stack-item {
    position: absolute; inset: 0;
    border-radius: var(--radius-sm);
    overflow: hidden;
    background: var(--sand-warm);
    box-shadow: 0 8px 28px rgba(27,58,75,0.14), 0 2px 6px rgba(27,58,75,0.08);
    transition: transform 0.48s cubic-bezier(0.23, 1, 0.32, 1),
                box-shadow 0.48s ease;
  }
  .stack-item img {
    width: 100%; height: 100%;
    object-fit: cover; display: block;
  }
  /* ì¹´ë“œ ì´ˆê¸° ìœ„ì¹˜: ë’¤ì— ìˆëŠ” ì¹´ë“œë“¤ */
  .stack-item:nth-child(1) { z-index: 3; transform: rotate(-0.5deg); }
  .stack-item:nth-child(2) { z-index: 2; transform: rotate(3.5deg) translateX(5px) translateY(4px); }
  .stack-item:nth-child(3) { z-index: 1; transform: rotate(6.5deg) translateX(9px) translateY(7px); }
  /* ì¹´ë“œ ì´ˆê¸° ìœ„ì¹˜: 4ë²ˆì§¸ ì¹´ë“œ */
  .stack-item:nth-child(4) { z-index: 0; transform: rotate(9.5deg) translateX(13px) translateY(10px); }
  /* í˜¸ë²„: ì¹´ë“œ í¼ì¹˜ê¸° */
  .photo-stack:hover .stack-item:nth-child(1) { transform: rotate(-2deg) translateX(-3px) translateY(-3px); box-shadow: 0 16px 40px rgba(27,58,75,0.18); }
  .photo-stack:hover .stack-item:nth-child(2) { transform: rotate(5deg) translateX(8px) translateY(6px); }
  .photo-stack:hover .stack-item:nth-child(3) { transform: rotate(9deg) translateX(14px) translateY(10px); }
  .photo-stack:hover .stack-item:nth-child(4) { transform: rotate(13deg) translateX(20px) translateY(14px); }
  /* ì¤Œ íŒíŠ¸ */
  .zoom-hint {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%) scale(0.75);
    width: 48px; height: 48px;
    background: rgba(255,255,255,0.20);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.40);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px; pointer-events: none;
    opacity: 0; transition: all 0.32s cubic-bezier(0.23, 1, 0.32, 1);
    z-index: 10;
  }
  .photo-stack:hover .zoom-hint { opacity: 1; transform: translate(-50%, -50%) scale(1); }
  /* ì‚¬ì§„ ìˆ˜ ë±ƒì§€ */
  .stack-count {
    position: absolute; bottom: 14px; right: 14px;
    background: rgba(27,58,75,0.60);
    backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
    color: #fff; font-size: 12px; font-weight: 700; letter-spacing: 0.8px;
    padding: 5px 12px; border-radius: 100px;
    z-index: 10; pointer-events: none;
    border: 1px solid rgba(255,255,255,0.15);
  }

  /* Lightbox */
  .lightbox-overlay {
    position: fixed; inset: 0; z-index: 999;
    display: flex; align-items: center; justify-content: center;
    background: rgba(8, 16, 24, 0.88);
    backdrop-filter: blur(24px) saturate(150%);
    -webkit-backdrop-filter: blur(24px) saturate(150%);
    opacity: 0; pointer-events: none;
    transition: opacity 0.38s cubic-bezier(0.23, 1, 0.32, 1);
    padding: 24px;
  }
  .lightbox-overlay.open {
    opacity: 1; pointer-events: all;
  }
  .lightbox-inner {
    position: relative;
    max-width: min(88vw, 800px);
    max-height: 80vh;
    border-radius: 22px;
    overflow: hidden;
    box-shadow:
      0 40px 100px rgba(0,0,0,0.55),
      0 0 0 1px rgba(255,255,255,0.08),
      inset 0 1px 0 rgba(255,255,255,0.12);
    transform: scale(0.86) translateY(24px);
    transition: transform 0.42s cubic-bezier(0.23, 1, 0.32, 1);
  }
  .lightbox-overlay.open .lightbox-inner {
    transform: scale(1) translateY(0);
  }
  .lightbox-img {
    display: block;
    width: 100%; max-height: 74vh;
    object-fit: contain;
  }
  .lightbox-caption-bar {
    position: absolute; bottom: 0; left: 0; right: 0;
    padding: 48px 22px 18px;
    background: linear-gradient(to top, rgba(8,16,24,0.82), transparent);
    color: #fff; font-size: 15px; font-weight: 600; letter-spacing: 0.5px;
  }
  .lightbox-close {
    position: fixed; top: 22px; right: 26px;
    width: 46px; height: 46px;
    background: rgba(255,255,255,0.10);
    border: 1px solid rgba(255,255,255,0.18);
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: #fff; font-size: 22px; line-height: 1;
    transition: all 0.25s cubic-bezier(0.23, 1, 0.32, 1);
    z-index: 1001; user-select: none;
  }
  .lightbox-close:hover {
    background: rgba(255,255,255,0.22);
    transform: scale(1.1) rotate(90deg);
    border-color: rgba(255,255,255,0.35);
  }
  .lightbox-nav {
    position: fixed; top: 50%; transform: translateY(-50%);
    width: 50px; height: 50px;
    background: rgba(255,255,255,0.11);
    border: 1px solid rgba(255,255,255,0.20);
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: #fff; font-size: 26px; line-height: 1;
    transition: all 0.25s cubic-bezier(0.23, 1, 0.32, 1);
    z-index: 1001; user-select: none;
  }
  .lightbox-nav:hover { background: rgba(255,255,255,0.22); transform: translateY(-50%) scale(1.1); }
  .lightbox-nav.hidden { opacity: 0; pointer-events: none; }
  #lbPrev { left: 18px; }
  #lbNext { right: 18px; }
  /* Thumbnail strip */
  .lb-thumbs {
    display: none; gap: 8px; align-items: center; justify-content: center;
    position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
    z-index: 1001;
    padding: 7px 13px;
    background: rgba(8,16,24,0.54);
    backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.10);
    border-radius: 100px;
  }
  .lb-thumb {
    width: 44px; height: 44px; border-radius: 8px;
    object-fit: cover; cursor: pointer;
    opacity: 0.45;
    border: 2.5px solid transparent;
    transition: all 0.28s cubic-bezier(0.23, 1, 0.32, 1);
    flex-shrink: 0;
  }
  .lb-thumb.active {
    opacity: 1;
    border-color: rgba(255,255,255,0.88);
    transform: scale(1.12);
  }
  .lb-thumb:hover:not(.active) { opacity: 0.72; }

  .alert {
    margin-top: 20px; padding: 16px 18px; border-radius: var(--radius-sm);
    font-size: 17px; line-height: 1.7; font-weight: 500;
    display: flex; align-items: flex-start; gap: 10px; position: relative; z-index: 1;
  }
  .alert.warn { background: rgba(196,122,78,0.10); border: 1px solid rgba(196,122,78,0.22); color: #7a3a18; }
  .alert.info { background: rgba(45,106,138,0.07); border: 1px solid rgba(45,106,138,0.15); color: #1e5068; }
  .alert-icon { font-size: 20px; flex-shrink: 0; margin-top: 1px; }

  .section-divider { height: 1px; background: linear-gradient(90deg, transparent, rgba(27,58,75,0.08), transparent); margin: 20px 0; }

  /* === FOOTER === */
  .footer { text-align: center; padding: 80px 24px 60px; }
  .footer-icon { font-size: 44px; margin-bottom: 16px; display: inline-block; animation: float 4s ease-in-out infinite; }
  @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-10px) rotate(3deg); } }
  .footer-text { font-family: 'Noto Serif KR', serif; font-size: 26px; font-weight: 700; color: var(--ocean-deep); margin-bottom: 10px; }
  .footer-sub { font-size: 17px; color: var(--text-dim); font-weight: 400; }
  .footer-wave { margin-top: 24px; }
  .footer-wave svg { width: 80px; height: 14px; }

  /* Progress */
  .progress-bar {
    position: fixed; top: 0; left: 0; height: 3px;
    background: linear-gradient(90deg, var(--ocean-deep), var(--ocean-mid), var(--sunset-warm), var(--sunset-gold));
    z-index: 100; width: 0%; transition: width 0.1s linear;
  }

  /* Nav Dots */
  .nav-dots { position: fixed; right: 24px; top: 50%; transform: translateY(-50%); z-index: 50; display: flex; flex-direction: column; gap: 14px; }
  .nav-dot {
    width: 10px; height: 10px; border-radius: 50%;
    background: rgba(27,58,75,0.20); border: none; cursor: pointer;
    transition: all 0.3s ease; position: relative;
  }
  .nav-dot:hover { background: rgba(27,58,75,0.4); transform: scale(1.4); }
  .nav-dot.active { background: var(--ocean-mid); box-shadow: 0 0 14px rgba(45,106,138,0.35); transform: scale(1.3); }
  .nav-dot .tooltip {
    position: absolute; right: 22px; top: 50%; transform: translateY(-50%);
    background: var(--ocean-deep); padding: 5px 14px; border-radius: 6px;
    font-size: 13px; white-space: nowrap; color: #fff;
    opacity: 0; pointer-events: none; transition: opacity 0.2s;
  }
  .nav-dot:hover .tooltip { opacity: 1; }

  /* === RESPONSIVE === */
  @media (max-width: 640px) {
    .wrapper { padding: 0 18px; }
    .card { padding: 28px 22px; }
    .card-header { flex-direction: column; gap: 8px; align-items: flex-start; }
    .day-header { gap: 14px; }
    .day-chip { width: 52px; height: 52px; font-size: 18px; border-radius: 13px; }
    .day-title { font-size: 28px; }
    .nav-dots { display: none; }
    .day-section { padding: 60px 0 20px; }
    .route-stop { padding: 0 10px; font-size: 15px; }
    .route-stop .emoji { font-size: 15px; }
    .route-arrow { font-size: 12px; }
    .route-bar { padding: 10px 6px; }
    .waves { height: 100px; }
    body { font-size: 17px; }
    .restaurant-name { font-size: 26px; }
    .restaurant-desc { font-size: 17px; }
    .info-value { font-size: 16px; }
    .alert { font-size: 16px; }
    .time-text { font-size: 16px; }
    .day-route { font-size: 16px; }
  }
  @media (max-width: 380px) {
    .restaurant-name { font-size: 24px; }
    .card { padding: 22px 18px; }
    .route-stop { padding: 0 7px; font-size: 14px; }
  }

  /* Print */
  @media print {
    .ambient, .grain, .progress-bar, .nav-dots, .scroll-hint, .waves, .ocean-bg { display: none; }
    body { background: #fff; }
    .card { backdrop-filter: none; border: 1px solid #ddd; break-inside: avoid; opacity: 1; transform: none; background: #fff; }
    .hero { min-height: auto; padding: 40px 0; }
    .hero h1 { background: none; -webkit-text-fill-color: var(--ocean-deep); }
  }
</style>
</head>
<body>

<div class="ocean-bg"></div>
<div class="ambient"><div class="orb"></div><div class="orb"></div><div class="orb"></div></div>
<div class="waves">
  <div class="wave wave-1"></div>
  <div class="wave wave-2"></div>
  <div class="wave wave-3"></div>
</div>
<div class="grain"></div>
<div class="progress-bar" id="progressBar"></div>

<nav class="nav-dots">
  <button class="nav-dot active" data-target="hero"><span class="tooltip">ì†Œê°œ</span></button>
  <button class="nav-dot" data-target="day1"><span class="tooltip">DAY 1 Â· ë‚¨í•´</span></button>
  <button class="nav-dot" data-target="day2"><span class="tooltip">DAY 2 Â· ì—¬ìˆ˜</span></button>
  <button class="nav-dot" data-target="day3"><span class="tooltip">DAY 3 Â· ê·€ê°€</span></button>
</nav>

<section class="hero" id="hero">
  <div class="hero-eyebrow">2025 Â· 4ì›” 2ì¼ â€” 4ì¼</div>
  <h1>ë‚¨í•´ Â· ì—¬ìˆ˜<br>ë§›ì§‘ ê°€ì´ë“œ</h1>
  <p class="hero-sub">2ë°• 3ì¼ ì—¬í–‰ì—ì„œ ë§Œë‚˜ëŠ” 6ê³³ì˜ ì‹ë‹¹</p>
  <div class="hero-wave-deco">
    <svg viewBox="0 0 120 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0,10 Q15,0 30,10 T60,10 T90,10 T120,10" stroke="#4a9ab5" stroke-width="1.5" fill="none" opacity="0.5"/>
      <path d="M0,14 Q15,4 30,14 T60,14 T90,14 T120,14" stroke="#2d6a8a" stroke-width="1" fill="none" opacity="0.3"/>
    </svg>
  </div>
  <div class="route-bar">
    <span class="route-stop"><span class="emoji">ğŸš—</span> í™”ì„±</span>
    <span class="route-arrow">â†’</span>
    <span class="route-stop"><span class="emoji">ğŸŒŠ</span> ë‚¨í•´</span>
    <span class="route-arrow">â†’</span>
    <span class="route-stop"><span class="emoji">â›´</span> ì—¬ìˆ˜</span>
    <span class="route-arrow">â†’</span>
    <span class="route-stop"><span class="emoji">ğŸ </span> í™”ì„±</span>
  </div>
  <div class="scroll-hint"><div class="scroll-line"></div>SCROLL</div>
</section>

<div class="wrapper">

  <!-- DAY 1 -->
  <section class="day-section day-1" id="day1">
    <div class="day-header">
      <div class="day-chip">01</div>
      <div class="day-meta">
        <span class="day-label">DAY ONE</span>
        <span class="day-title">ë‚¨í•´</span>
        <span class="day-route">í™”ì„± â†’ ë‚¨í•´ Â· 4ì‹œê°„ ì´ë™</span>
      </div>
    </div>

    <article class="card lunch">
      <div class="card-header">
        <span class="meal-tag">â˜€ï¸ ì ì‹¬</span>
        <span class="time-text">12:00 â€“ 13:20</span>
      </div>
      <div class="card-body">
        <h3 class="restaurant-name">ë„ìš° (DOW)</h3>
        <p class="restaurant-desc">ë‚¨í•´ ë°”ë‹¤ë¥¼ ë§ˆì£¼í•œ ìœ ëŸ¬í”¼ì•ˆ ê°ì„±ì˜ ì–‘ì‹ ë ˆìŠ¤í† ë‘. ì—¬í–‰ ì²« ë¼ë¡œ í•´ì‚°ë¬¼ ì¤‘ì‹¬ì˜ ì‹ë‹¨ ì „, ê¹”ë”í•œ ì–‘ì‹ ì½”ìŠ¤ë¥¼ ì¦ê¸°ê¸°ì— ì¢‹ì€ ê³³.</p>
        <div class="photo-stack">
          <div class="stack-item"><img src="dow-food.png" alt="ëŒ€í‘œ ìš”ë¦¬" loading="lazy"></div>
          <div class="stack-item"><img src="dow-interior.png" alt="ì¸í…Œë¦¬ì–´" loading="lazy"></div>
          <span class="zoom-hint">âŠ•</span>
          <span class="stack-count">ğŸ“· 2</span>
        </div>
        <div class="info-chips">
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì£¼ì†Œ</span><span class="info-value">ê²½ë‚¨ ë‚¨í•´êµ° ì‚¼ë™ë©´ ì‚¼ì´ë¡œ 330</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì „í™”</span><span class="info-value">0507-1354-7193</span></div>
          </div>
          <a href="https://naver.me/G6yw5H9W" target="_blank" rel="noopener noreferrer" class="map-link-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ë¡œ ë³´ê¸°</a>
        </div>
      </div>
    </article>

    <article class="card dinner">
      <div class="card-header">
        <span class="meal-tag">ğŸŒ™ ì €ë…</span>
        <span class="time-text">18:00 â€“ 19:30</span>
      </div>
      <div class="card-body">
        <h3 class="restaurant-name">ì‹œê³¨í• ë§¤ ë§‰ê±¸ë¦¬</h3>
        <p class="restaurant-desc">3ëŒ€ì§¸ ê°€ì—…ì„ ì´ì–´ì˜¨ í† ì† ìŒì‹ì . ì™¸ë¶€ í…Œë¼ìŠ¤ì—ì„œ ë°”ë‹¤ì™€ ë‹¤ë­ì´ë…¼ì´ ì–´ìš°ëŸ¬ì§„ ì ˆê²½ì„ ë°”ë¼ë³´ë©° ì •ê°ˆí•œ ë°¥ìƒì„ ì¦ê¸¸ ìˆ˜ ìˆë‹¤.</p>
        <div class="photo-stack">
          <div class="stack-item"><img src="halmae-food3.png" alt="ëŒ€í‘œ ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="halmae-food2.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="halmae-food1.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="halmae-interior.png" alt="ì¸í…Œë¦¬ì–´" loading="lazy"></div>
          <span class="zoom-hint">âŠ•</span>
          <span class="stack-count">ğŸ“· 4</span>
        </div>
        <div class="info-chips">
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì£¼ì†Œ</span><span class="info-value">ê²½ë‚¨ ë‚¨í•´êµ° ë‚¨ë©´ ë‚¨ë©´ë¡œ 654</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì „í™”</span><span class="info-value">0507-1324-8381</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ…¿ï¸</div>
            <div class="info-content"><span class="info-label">ì£¼ì°¨</span><span class="info-value">ë‹¤ë­ì´ë§ˆì„ ê³µì˜ì£¼ì°¨ì¥ì—ì„œ ë§ˆì„ê¸¸ ë„ë³´ ì´ë™</span></div>
          </div>
          <a href="https://naver.me/5AfpW10J" target="_blank" rel="noopener noreferrer" class="map-link-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ë¡œ ë³´ê¸°</a>
        </div>
        <div class="alert warn"><span class="alert-icon">âš ï¸</span><span>ë§ˆì§€ë§‰ ì£¼ë¬¸ ì˜¤í›„ 7ì‹œ!</span></div>
      </div>
    </article>
  </section>

  <div class="section-divider"></div>

  <!-- DAY 2 -->
  <section class="day-section day-2" id="day2">
    <div class="day-header">
      <div class="day-chip">02</div>
      <div class="day-meta">
        <span class="day-label">DAY TWO</span>
        <span class="day-title">ì—¬ìˆ˜</span>
        <span class="day-route">ë‚¨í•´ â†’ ì—¬ìˆ˜ Â· 2ì‹œê°„ ì´ë™</span>
      </div>
    </div>

    <article class="card lunch">
      <div class="card-header">
        <span class="meal-tag">â˜€ï¸ ì ì‹¬</span>
        <span class="time-text">11:00 â€“ 12:30</span>
      </div>
      <div class="card-body">
        <h3 class="restaurant-name">ê½ƒëŒê²Œì¥1ë²ˆê°€</h3>
        <p class="restaurant-desc">ì—¬ìˆ˜ë¥¼ ëŒ€í‘œí•˜ëŠ” ê²Œì¥ ì „ë¬¸ì </p>
        <div class="photo-stack">
          <div class="stack-item"><img src="crab-food1.png" alt="ëŒ€í‘œ ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="crab-food2.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="crab-food3.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="crab-interior.png" alt="ì¸í…Œë¦¬ì–´" loading="lazy"></div>
          <span class="zoom-hint">âŠ•</span>
          <span class="stack-count">ğŸ“· 4</span>
        </div>
        <div class="info-chips">
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì£¼ì†Œ</span><span class="info-value">ì „ë‚¨ ì—¬ìˆ˜ì‹œ ë´‰ì‚°2ë¡œ 36</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì „í™”</span><span class="info-value">0507-1395-0006</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ•</div>
            <div class="info-content"><span class="info-label">ì˜ì—…ì‹œê°„</span><span class="info-value">10:00 ~ 20:30</span></div>
          </div>
          <a href="https://naver.me/GSUAnmGE" target="_blank" rel="noopener noreferrer" class="map-link-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ë¡œ ë³´ê¸°</a>
        </div>
      </div>
    </article>

    <article class="card dinner">
      <div class="card-header">
        <span class="meal-tag">ğŸŒ™ ì €ë…</span>
        <span class="time-text">17:00 â€“ 18:00</span>
      </div>
      <div class="card-body">
        <h3 class="restaurant-name">í™©ê¸ˆìˆ˜ì‚°</h3>
        <p class="restaurant-desc">ì—¬ìˆ˜ ì œì²  í•´ì‚°ë¬¼ ë¡œì»¬ ë§›ì§‘. ë´„ì²  ë³„ë¯¸ì¸ ë„ë‹¤ë¦¬ ì„¸íŠ¸</p>
        <div class="photo-stack">
          <div class="stack-item"><img src="gold-food1.png" alt="ëŒ€í‘œ ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="gold-food2.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="gold-food3.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="gold-interior.png" alt="ì¸í…Œë¦¬ì–´" loading="lazy"></div>
          <span class="zoom-hint">âŠ•</span>
          <span class="stack-count">ğŸ“· 4</span>
        </div>
        <div class="info-chips">
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì£¼ì†Œ</span><span class="info-value">ì „ë‚¨ ì—¬ìˆ˜ì‹œ ì†Œí˜¸1ê¸¸ 86</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì „í™”</span><span class="info-value">061-683-3382</span></div>
          </div>
          <a href="https://naver.me/5jJzaOmD" target="_blank" rel="noopener noreferrer" class="map-link-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ë¡œ ë³´ê¸°</a>
        </div>
        <div class="alert warn"><span class="alert-icon">â°</span><span>í¬ë£¨ì¦ˆ íƒ‘ìŠ¹ì´ ìˆìœ¼ë¯€ë¡œ 18:00ê¹Œì§€ ì‹ì‚¬ ë§ˆê°!</span></div>
      </div>
    </article>
  </section>

  <div class="section-divider"></div>

  <!-- DAY 3 -->
  <section class="day-section day-3" id="day3">
    <div class="day-header">
      <div class="day-chip">03</div>
      <div class="day-meta">
        <span class="day-label">DAY THREE</span>
        <span class="day-title">ê·€ê°€</span>
        <span class="day-route">ì—¬ìˆ˜ â†’ í™”ì„± Â· 4~5ì‹œê°„ ì´ë™</span>
      </div>
    </div>

    <article class="card breakfast">
      <div class="card-header">
        <span class="meal-tag">ğŸŒ… ì•„ì¹¨</span>
        <span class="time-text">08:00 â€“ 09:00</span>
      </div>
      <div class="card-body">
        <h3 class="restaurant-name">ì§„ë‚¨ì˜¥</h3>
        <p class="restaurant-desc">ì—¬ìˆ˜ í˜„ì§€ í•´ì¥ ì„±ì§€. í•œìš°ë­‡êµ­ í•œ ê·¸ë¦‡</p>
        <div class="photo-stack">
          <div class="stack-item"><img src="jinnam-food1.png" alt="ëŒ€í‘œ ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="jinnam-food2.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="jinnam-food3.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="jinnam-interior.png" alt="ì¸í…Œë¦¬ì–´" loading="lazy"></div>
          <span class="zoom-hint">âŠ•</span>
          <span class="stack-count">ğŸ“· 4</span>
        </div>
        <div class="info-chips">
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì£¼ì†Œ</span><span class="info-value">ì „ë‚¨ ì—¬ìˆ˜ì‹œ í†µì œì˜3ê¸¸ 6 1ì¸µ</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì „í™”</span><span class="info-value">0507-1383-5823</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ•</div>
            <div class="info-content"><span class="info-label">ì˜ì—…ì‹œê°„</span><span class="info-value">08:00 ~ 21:00 (ë¼ìŠ¤íŠ¸ì˜¤ë” 20:00)</span></div>
          </div>
          <a href="https://naver.me/5r9RgBZv" target="_blank" rel="noopener noreferrer" class="map-link-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ë¡œ ë³´ê¸°</a>
        </div>
        <div class="alert info"><span class="alert-icon">ğŸ’¡</span><span>ì¡°ê¸° ì¶œë°œì„ ì›í•˜ì‹œë©´ ìƒëµ ê°€ëŠ¥</span></div>
      </div>
    </article>

    <article class="card lunch">
      <div class="card-header">
        <span class="meal-tag">â˜€ï¸ ì ì‹¬</span>
        <span class="time-text">12:00 â€“ 13:00</span>
      </div>
      <div class="card-body">
        <h3 class="restaurant-name">ìƒì•„ì‹ë‹¹</h3>
        <p class="restaurant-desc">ì—¬ìˆ˜ ì–´í•­ë‹¨ì§€ì˜ ì¥ì–´ ì „ë¬¸ì . ìˆ¯ë¶ˆì— êµ¬ìš´ ì¥ì–´êµ¬ì´, í†µì¥ì–´íƒ•ìœ¼ë¡œ ì—¬í–‰ì˜ ë§ˆì§€ë§‰ ì‹ì‚¬ë¥¼ ë§ˆë¬´ë¦¬.</p>
        <div class="photo-stack">
          <div class="stack-item"><img src="sanga-food1.png" alt="ëŒ€í‘œ ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="sanga-food2.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="sanga-food3.png" alt="ìŒì‹" loading="lazy"></div>
          <div class="stack-item"><img src="sanga-interior.png" alt="ì¸í…Œë¦¬ì–´" loading="lazy"></div>
          <span class="zoom-hint">âŠ•</span>
          <span class="stack-count">ğŸ“· 4</span>
        </div>
        <div class="info-chips">
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì£¼ì†Œ</span><span class="info-value">ì „ë‚¨ ì—¬ìˆ˜ì‹œ ì–´í•­ë‹¨ì§€ë¡œ 21</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content"><span class="info-label">ì „í™”</span><span class="info-value">061-643-7840</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ•</div>
            <div class="info-content"><span class="info-label">ì˜ì—…ì‹œê°„</span><span class="info-value">07:00 ~ 20:00</span></div>
          </div>
          <div class="info-row">
            <div class="info-icon">ğŸ’¡</div>
            <div class="info-content"><span class="info-label">ëŒ€ì²´ ì‹ë‹¹</span><span class="info-value">ë§Œì„ ì‹œ ê·¼ì²˜ <strong>7ê³µì£¼ì¥ì–´íƒ•</strong>ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥</span></div>
          </div>
          <a href="https://naver.me/xhnCyyAG" target="_blank" rel="noopener noreferrer" class="map-link-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„ë¡œ ë³´ê¸°</a>
        </div>
      </div>
    </article>
  </section>

  <footer class="footer">
    <div class="footer-icon">â›µ</div>
    <p class="footer-text">ì•ˆì „í•˜ê³  ë§›ìˆëŠ” ì—¬í–‰!</p>
    <p class="footer-sub">4ì›” 2ì¼(ëª©) ~ 4ì›” 4ì¼(í† ) Â· 2ë°• 3ì¼</p>
    <div class="footer-wave">
      <svg viewBox="0 0 80 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0,7 Q10,0 20,7 T40,7 T60,7 T80,7" stroke="#4a9ab5" stroke-width="1.5" fill="none" opacity="0.4"/>
        <path d="M0,10 Q10,3 20,10 T40,10 T60,10 T80,10" stroke="#2d6a8a" stroke-width="1" fill="none" opacity="0.25"/>
      </svg>
    </div>
  </footer>
</div>

<!-- Lightbox -->
<div class="lightbox-overlay" id="lightbox" role="dialog" aria-modal="true">
  <div class="lightbox-inner" id="lightboxInner">
    <img class="lightbox-img" id="lightboxImg" src="" alt="">
    <div class="lightbox-caption-bar" id="lightboxCaption"></div>
  </div>
  <button class="lightbox-close" id="lightboxClose" aria-label="ë‹«ê¸°">âœ•</button>
  <div class="lb-thumbs" id="lbThumbs"></div>
  <button class="lightbox-nav hidden" id="lbPrev" aria-label="ì´ì „ ì‚¬ì§„">â€¹</button>
  <button class="lightbox-nav hidden" id="lbNext" aria-label="ë‹¤ìŒ ì‚¬ì§„">â€º</button>
</div>

<script>
  const pb = document.getElementById('progressBar');
  window.addEventListener('scroll', () => {
    pb.style.width = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100 + '%';
  });

  const cards = document.querySelectorAll('.card');
  const ro = new IntersectionObserver((es) => {
    es.forEach((e, i) => { if (e.isIntersecting) { setTimeout(() => e.target.classList.add('visible'), i * 120); ro.unobserve(e.target); }});
  }, { threshold: 0.15, rootMargin: '0px 0px -40px 0px' });
  cards.forEach(c => ro.observe(c));

  const dots = document.querySelectorAll('.nav-dot');
  const ids = ['hero','day1','day2','day3'];
  const so = new IntersectionObserver((es) => {
    es.forEach(e => { if (e.isIntersecting) dots.forEach(d => d.classList.toggle('active', d.dataset.target === e.target.id)); });
  }, { threshold: 0.3 });
  ids.forEach(id => { const el = document.getElementById(id); if (el) so.observe(el); });
  dots.forEach(d => d.addEventListener('click', () => document.getElementById(d.dataset.target)?.scrollIntoView({ behavior: 'smooth' })));

  document.querySelectorAll('.day-header').forEach(h => {
    h.style.cssText = 'opacity:0;transform:translateX(-20px);transition:all 0.6s cubic-bezier(0.23,1,0.32,1)';
    new IntersectionObserver((es, o) => {
      es.forEach(e => { if (e.isIntersecting) { e.target.style.cssText = 'opacity:1;transform:translateX(0);transition:all 0.6s cubic-bezier(0.23,1,0.32,1)'; o.unobserve(e.target); }});
    }, { threshold: 0.5 }).observe(h);
  });

  // Lightbox
  const lb      = document.getElementById('lightbox');
  const lbImg   = document.getElementById('lightboxImg');
  const lbCap   = document.getElementById('lightboxCaption');
  const lbClose  = document.getElementById('lightboxClose');
  const lbPrev   = document.getElementById('lbPrev');
  const lbNext   = document.getElementById('lbNext');
  const lbThumbs = document.getElementById('lbThumbs');

  let lbPhotos = [], lbIdx = 0;

  function buildStacks() {
    document.querySelectorAll('.photo-stack').forEach(stack => {
      stack.addEventListener('click', () => {
        const imgs = [...stack.querySelectorAll('.stack-item img')];
        openLb(imgs.map(img => ({ src: img.src, caption: img.alt })), 0);
      });
    });
  }

  function openLb(photos, startIdx) {
    lbPhotos = photos; lbIdx = startIdx;
    renderLb();
    lb.classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function renderLb() {
    const p = lbPhotos[lbIdx];
    lbImg.src = p.src; lbImg.alt = p.caption;
    lbCap.textContent = p.caption;
    lbPrev.classList.toggle('hidden', lbIdx === 0);
    lbNext.classList.toggle('hidden', lbIdx === lbPhotos.length - 1);
    renderThumbs();
  }

  function renderThumbs() {
    if (lbPhotos.length < 2) { lbThumbs.style.display = 'none'; return; }
    lbThumbs.style.display = 'flex';
    lbThumbs.innerHTML = '';
    lbPhotos.forEach((p, i) => {
      const t = document.createElement('img');
      t.src = p.src; t.alt = p.caption;
      t.className = 'lb-thumb' + (i === lbIdx ? ' active' : '');
      t.addEventListener('click', e => { e.stopPropagation(); lbIdx = i; renderLb(); });
      lbThumbs.appendChild(t);
    });
  }

  function closeLb() {
    lb.classList.remove('open');
    document.body.style.overflow = '';
  }

  // Touch swipe
  let touchX0 = 0;
  lb.addEventListener('touchstart', e => { touchX0 = e.changedTouches[0].clientX; }, { passive: true });
  lb.addEventListener('touchend', e => {
    const dx = e.changedTouches[0].clientX - touchX0;
    if (Math.abs(dx) < 44) return;
    if (dx < 0 && lbIdx < lbPhotos.length - 1) { lbIdx++; renderLb(); }
    if (dx > 0 && lbIdx > 0) { lbIdx--; renderLb(); }
  }, { passive: true });

  lbClose.addEventListener('click', closeLb);
  lbPrev.addEventListener('click', e => { e.stopPropagation(); if (lbIdx > 0) { lbIdx--; renderLb(); } });
  lbNext.addEventListener('click', e => { e.stopPropagation(); if (lbIdx < lbPhotos.length - 1) { lbIdx++; renderLb(); } });
  lb.addEventListener('click', e => { if (e.target === lb) closeLb(); });
  document.addEventListener('keydown', e => {
    if (!lb.classList.contains('open')) return;
    if (e.key === 'Escape') closeLb();
    if (e.key === 'ArrowLeft')  { if (lbIdx > 0) { lbIdx--; renderLb(); } }
    if (e.key === 'ArrowRight') { if (lbIdx < lbPhotos.length - 1) { lbIdx++; renderLb(); } }
  });

  buildStacks();
</script>
</body>
</html>
